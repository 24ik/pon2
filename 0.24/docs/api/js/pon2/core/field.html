<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en" data-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>src/pon2/core/field</title>

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- CSS -->
<link rel="stylesheet" type="text/css" href="../../nimdoc.out.css?v=2.2.6">

<!-- JS -->
<script type="text/javascript" src="../../dochack.js?v=2.2.6"></script>
</head>
<body>
  <div class="document" id="documentId">
    <div class="container">
      <h1 class="title">src/pon2/core/field</h1>
      <div class="row">
  <div class="three columns">
    <div class="theme-select-wrapper">
      <label for="theme-select">Theme:&nbsp;</label>
      <select id="theme-select" onchange="setTheme(this.value)">
        <option value="auto">ðŸŒ— Match OS</option>
        <option value="dark">ðŸŒ‘ Dark</option>
        <option value="light">ðŸŒ• Light</option>
      </select>
    </div>
    <div id="global-links">
      <ul class="simple">
        <li><a id="indexLink" href="../../theindex.html">Index</a></li>
      </ul>
    </div>
    <div id="searchInputDiv">
      Search: <input type="search" id="searchInput" oninput="search()"/>
    </div>
    <div>
      Group by:
      <select onchange="groupBy(this.value)">
        <option value="section">Section</option>
        <option value="type">Type</option>
      </select>
    </div>
    <ul class="simple simple-toc" id="toc-list">
  <li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#7" id="57">Types</a></summary>
    <ul class="simple simple-toc-section">
      <li><a class="reference" href="#TsuField" title="TsuField = distinct array[3, BinField]">TsuField</a></li>
<li><a class="reference" href="#WaterField" title="WaterField = distinct array[3, BinField]">WaterField</a></li>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#12" id="62">Procs</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">$
  <li><a class="reference" href="#%24%2CTsuField" title="`$`(self: TsuField): string">`$`(self: TsuField): string</a></li>
<li><a class="reference" href="#%24%2CWaterField" title="`$`(self: WaterField): string">`$`(self: WaterField): string</a></li>

</ul>
<ul class="simple nested-toc-section">==
  <li><a class="reference" href="#%3D%3D%2CTsuField%2CTsuField" title="`==`(f1, f2: TsuField): bool">`==`(f1, f2: TsuField): bool</a></li>
<li><a class="reference" href="#%3D%3D%2CWaterField%2CWaterField" title="`==`(f1, f2: WaterField): bool">`==`(f1, f2: WaterField): bool</a></li>

</ul>
<ul class="simple nested-toc-section">[]
  <li><a class="reference" href="#%5B%5D%2CF%2CRow%2CCol" title="`[]`[F: TsuField or WaterField](self: F; row: Row; col: Col): Cell">`[]`[F: TsuField or WaterField](self: F; row: Row; col: Col): Cell</a></li>

</ul>
<ul class="simple nested-toc-section">[]=
  <li><a class="reference" href="#%5B%5D%3D%2CF%2CRow%2CCol%2CCell" title="`[]=`[F: TsuField or WaterField](self: var F; row: Row; col: Col; cell: Cell)">`[]=`[F: TsuField or WaterField](self: var F; row: Row; col: Col; cell: Cell)</a></li>

</ul>
<ul class="simple nested-toc-section">apply
  <li><a class="reference" href="#apply%2CF%2CStep" title="apply[F: TsuField or WaterField](self: var F; step: Step)">apply[F: TsuField or WaterField](self: var F; step: Step)</a></li>

</ul>
<ul class="simple nested-toc-section">canPop
  <li><a class="reference" href="#canPop%2CF" title="canPop[F: TsuField or WaterField](self: F): bool">canPop[F: TsuField or WaterField](self: F): bool</a></li>

</ul>
<ul class="simple nested-toc-section">cellCnt
  <li><a class="reference" href="#cellCnt%2CF%2CCell" title="cellCnt[F: TsuField or WaterField](self: F; cell: Cell): int">cellCnt[F: TsuField or WaterField](self: F; cell: Cell): int</a></li>

</ul>
<ul class="simple nested-toc-section">colorPuyoCnt
  <li><a class="reference" href="#colorPuyoCnt%2CF" title="colorPuyoCnt[F: TsuField or WaterField](self: F): int">colorPuyoCnt[F: TsuField or WaterField](self: F): int</a></li>

</ul>
<ul class="simple nested-toc-section">conn2
  <li><a class="reference" href="#conn2%2CF" title="conn2[F: TsuField or WaterField](self: F): F">conn2[F: TsuField or WaterField](self: F): F</a></li>

</ul>
<ul class="simple nested-toc-section">conn2Horizontal
  <li><a class="reference" href="#conn2Horizontal%2CF" title="conn2Horizontal[F: TsuField or WaterField](self: F): F">conn2Horizontal[F: TsuField or WaterField](self: F): F</a></li>

</ul>
<ul class="simple nested-toc-section">conn2Vertical
  <li><a class="reference" href="#conn2Vertical%2CF" title="conn2Vertical[F: TsuField or WaterField](self: F): F">conn2Vertical[F: TsuField or WaterField](self: F): F</a></li>

</ul>
<ul class="simple nested-toc-section">conn3
  <li><a class="reference" href="#conn3%2CF" title="conn3[F: TsuField or WaterField](self: F): F">conn3[F: TsuField or WaterField](self: F): F</a></li>

</ul>
<ul class="simple nested-toc-section">conn3Horizontal
  <li><a class="reference" href="#conn3Horizontal%2CF" title="conn3Horizontal[F: TsuField or WaterField](self: F): F">conn3Horizontal[F: TsuField or WaterField](self: F): F</a></li>

</ul>
<ul class="simple nested-toc-section">conn3LShape
  <li><a class="reference" href="#conn3LShape%2CF" title="conn3LShape[F: TsuField or WaterField](self: F): F">conn3LShape[F: TsuField or WaterField](self: F): F</a></li>

</ul>
<ul class="simple nested-toc-section">conn3Vertical
  <li><a class="reference" href="#conn3Vertical%2CF" title="conn3Vertical[F: TsuField or WaterField](self: F): F">conn3Vertical[F: TsuField or WaterField](self: F): F</a></li>

</ul>
<ul class="simple nested-toc-section">crossRotate
  <li><a class="reference" href="#crossRotate%2CF" title="crossRotate[F: TsuField or WaterField](self: var F)">crossRotate[F: TsuField or WaterField](self: var F)</a></li>

</ul>
<ul class="simple nested-toc-section">delete
  <li><a class="reference" href="#delete%2CF%2CRow%2CCol" title="delete[F: TsuField or WaterField](self: var F; row: Row; col: Col)">delete[F: TsuField or WaterField](self: var F; row: Row; col: Col)</a></li>

</ul>
<ul class="simple nested-toc-section">dropGarbages
  <li><a class="reference" href="#dropGarbages%2CF%2Carray%5BCol%2Cint%5D%2Cbool" title="dropGarbages[F: TsuField or WaterField](self: var F; cnts: array[Col, int];
                                        dropHard: bool)">dropGarbages[F: TsuField or WaterField](self: var F; cnts: array[Col, int];
                                        dropHard: bool)</a></li>

</ul>
<ul class="simple nested-toc-section">flipHorizontal
  <li><a class="reference" href="#flipHorizontal%2CF" title="flipHorizontal[F: TsuField or WaterField](self: var F)">flipHorizontal[F: TsuField or WaterField](self: var F)</a></li>

</ul>
<ul class="simple nested-toc-section">flipVertical
  <li><a class="reference" href="#flipVertical%2CF" title="flipVertical[F: TsuField or WaterField](self: var F)">flipVertical[F: TsuField or WaterField](self: var F)</a></li>

</ul>
<ul class="simple nested-toc-section">garbagesCnt
  <li><a class="reference" href="#garbagesCnt%2CF" title="garbagesCnt[F: TsuField or WaterField](self: F): int">garbagesCnt[F: TsuField or WaterField](self: F): int</a></li>

</ul>
<ul class="simple nested-toc-section">init
  <li><a class="reference" href="#init%2CtypeF" title="init[F: TsuField or WaterField](T: type F): F">init[F: TsuField or WaterField](T: type F): F</a></li>

</ul>
<ul class="simple nested-toc-section">insert
  <li><a class="reference" href="#insert%2CF%2CRow%2CCol%2CCell" title="insert[F: TsuField or WaterField](self: var F; row: Row; col: Col; cell: Cell)">insert[F: TsuField or WaterField](self: var F; row: Row; col: Col; cell: Cell)</a></li>

</ul>
<ul class="simple nested-toc-section">invalidPlacements
  <li><a class="reference" href="#invalidPlacements%2CF" title="invalidPlacements[F: TsuField or WaterField](self: F): set[Placement]">invalidPlacements[F: TsuField or WaterField](self: F): set[Placement]</a></li>

</ul>
<ul class="simple nested-toc-section">isDead
  <li><a class="reference" href="#isDead%2CF" title="isDead[F: TsuField or WaterField](self: F): bool">isDead[F: TsuField or WaterField](self: F): bool</a></li>

</ul>
<ul class="simple nested-toc-section">isSettled
  <li><a class="reference" href="#isSettled%2CF" title="isSettled[F: TsuField or WaterField](self: F): bool">isSettled[F: TsuField or WaterField](self: F): bool</a></li>

</ul>
<ul class="simple nested-toc-section">move
  <li><a class="reference" href="#move%2CF%2Carray%5BCol%2Cint%5D%2Cbool%2Cstaticbool" title="move[F: TsuField or WaterField](self: var F; cnts: array[Col, int];
                                dropHard: bool; calcConn: static bool = true): MoveResult">move[F: TsuField or WaterField](self: var F; cnts: array[Col, int];
                                dropHard: bool; calcConn: static bool = true): MoveResult</a></li>
<li><a class="reference" href="#move%2CF%2Cbool%2Cstaticbool" title="move[F: TsuField or WaterField](self: var F; cross: bool;
                                calcConn: static bool = true): MoveResult">move[F: TsuField or WaterField](self: var F; cross: bool;
                                calcConn: static bool = true): MoveResult</a></li>
<li><a class="reference" href="#move%2CF%2CPair%2CPlacement%2Cstaticbool" title="move[F: TsuField or WaterField](self: var F; pair: Pair; plcmt: Placement;
                                calcConn: static bool = true): MoveResult">move[F: TsuField or WaterField](self: var F; pair: Pair; plcmt: Placement;
                                calcConn: static bool = true): MoveResult</a></li>
<li><a class="reference" href="#move%2CF%2CStep" title="move[F: TsuField or WaterField](self: var F; step: Step; calcConn = true): MoveResult">move[F: TsuField or WaterField](self: var F; step: Step; calcConn = true): MoveResult</a></li>

</ul>
<ul class="simple nested-toc-section">parseTsuField
  <li><a class="reference" href="#parseTsuField%2Cstring%2CSimulatorFqdn" title="parseTsuField(query: string; fqdn: SimulatorFqdn): Res[TsuField]">parseTsuField(query: string; fqdn: SimulatorFqdn): Res[TsuField]</a></li>
<li><a class="reference" href="#parseTsuField%2Cstring" title="parseTsuField(str: string): Res[TsuField]">parseTsuField(str: string): Res[TsuField]</a></li>

</ul>
<ul class="simple nested-toc-section">parseWaterField
  <li><a class="reference" href="#parseWaterField%2Cstring%2CSimulatorFqdn" title="parseWaterField(query: string; fqdn: SimulatorFqdn): Res[WaterField]">parseWaterField(query: string; fqdn: SimulatorFqdn): Res[WaterField]</a></li>
<li><a class="reference" href="#parseWaterField%2Cstring" title="parseWaterField(str: string): Res[WaterField]">parseWaterField(str: string): Res[WaterField]</a></li>

</ul>
<ul class="simple nested-toc-section">place
  <li><a class="reference" href="#place%2CTsuField%2CPair%2CPlacement" title="place(self: var TsuField; pair: Pair; plcmt: Placement)">place(self: var TsuField; pair: Pair; plcmt: Placement)</a></li>
<li><a class="reference" href="#place%2CWaterField%2CPair%2CPlacement" title="place(self: var WaterField; pair: Pair; plcmt: Placement)">place(self: var WaterField; pair: Pair; plcmt: Placement)</a></li>
<li><a class="reference" href="#place%2CF%2CPair%2COptPlacement" title="place[F: TsuField or WaterField](self: var F; pair: Pair; optPlcmt: OptPlacement)">place[F: TsuField or WaterField](self: var F; pair: Pair; optPlcmt: OptPlacement)</a></li>

</ul>
<ul class="simple nested-toc-section">pop
  <li><a class="reference" href="#pop%2CF" title="pop[F: TsuField or WaterField](self: var F): PopResult">pop[F: TsuField or WaterField](self: var F): PopResult</a></li>

</ul>
<ul class="simple nested-toc-section">puyoCnt
  <li><a class="reference" href="#puyoCnt%2CF" title="puyoCnt[F: TsuField or WaterField](self: F): int">puyoCnt[F: TsuField or WaterField](self: F): int</a></li>

</ul>
<ul class="simple nested-toc-section">rotate
  <li><a class="reference" href="#rotate%2CF" title="rotate[F: TsuField or WaterField](self: var F)">rotate[F: TsuField or WaterField](self: var F)</a></li>

</ul>
<ul class="simple nested-toc-section">rule
  <li><a class="reference" href="#rule%2CTsuField" title="rule(self: TsuField): Rule">rule(self: TsuField): Rule</a></li>
<li><a class="reference" href="#rule%2CWaterField" title="rule(self: WaterField): Rule">rule(self: WaterField): Rule</a></li>

</ul>
<ul class="simple nested-toc-section">settle
  <li><a class="reference" href="#settle%2CF" title="settle[F: TsuField or WaterField](self: var F)">settle[F: TsuField or WaterField](self: var F)</a></li>

</ul>
<ul class="simple nested-toc-section">shiftDown
  <li><a class="reference" href="#shiftDown%2CF" title="shiftDown[F: TsuField or WaterField](self: var F)">shiftDown[F: TsuField or WaterField](self: var F)</a></li>

</ul>
<ul class="simple nested-toc-section">shiftLeft
  <li><a class="reference" href="#shiftLeft%2CF" title="shiftLeft[F: TsuField or WaterField](self: var F)">shiftLeft[F: TsuField or WaterField](self: var F)</a></li>

</ul>
<ul class="simple nested-toc-section">shiftRight
  <li><a class="reference" href="#shiftRight%2CF" title="shiftRight[F: TsuField or WaterField](self: var F)">shiftRight[F: TsuField or WaterField](self: var F)</a></li>

</ul>
<ul class="simple nested-toc-section">shiftUp
  <li><a class="reference" href="#shiftUp%2CF" title="shiftUp[F: TsuField or WaterField](self: var F)">shiftUp[F: TsuField or WaterField](self: var F)</a></li>

</ul>
<ul class="simple nested-toc-section">toArr
  <li><a class="reference" href="#toArr%2CF" title="toArr[F: TsuField or WaterField](self: F): array[Row, array[Col, Cell]]">toArr[F: TsuField or WaterField](self: F): array[Row, array[Col, Cell]]</a></li>

</ul>
<ul class="simple nested-toc-section">toTsuField
  <li><a class="reference" href="#toTsuField%2Carray%5BRow%2Carray%5BCol%2CCell%5D%5D" title="toTsuField(arr: array[Row, array[Col, Cell]]): TsuField">toTsuField(arr: array[Row, array[Col, Cell]]): TsuField</a></li>
<li><a class="reference" href="#toTsuField%2CTsuField" title="toTsuField(self: TsuField): TsuField">toTsuField(self: TsuField): TsuField</a></li>
<li><a class="reference" href="#toTsuField%2CWaterField" title="toTsuField(self: WaterField): TsuField">toTsuField(self: WaterField): TsuField</a></li>

</ul>
<ul class="simple nested-toc-section">toUriQuery
  <li><a class="reference" href="#toUriQuery%2CF" title="toUriQuery[F: TsuField or WaterField](self: F; fqdn = Pon2): Res[string]">toUriQuery[F: TsuField or WaterField](self: F; fqdn = Pon2): Res[string]</a></li>

</ul>
<ul class="simple nested-toc-section">toWaterField
  <li><a class="reference" href="#toWaterField%2Carray%5BRow%2Carray%5BCol%2CCell%5D%5D" title="toWaterField(arr: array[Row, array[Col, Cell]]): WaterField">toWaterField(arr: array[Row, array[Col, Cell]]): WaterField</a></li>
<li><a class="reference" href="#toWaterField%2CTsuField" title="toWaterField(self: TsuField): WaterField">toWaterField(self: TsuField): WaterField</a></li>
<li><a class="reference" href="#toWaterField%2CWaterField" title="toWaterField(self: WaterField): WaterField">toWaterField(self: WaterField): WaterField</a></li>

</ul>
<ul class="simple nested-toc-section">validDblPlacements
  <li><a class="reference" href="#validDblPlacements%2CF" title="validDblPlacements[F: TsuField or WaterField](self: F): set[Placement]">validDblPlacements[F: TsuField or WaterField](self: F): set[Placement]</a></li>

</ul>
<ul class="simple nested-toc-section">validPlacements
  <li><a class="reference" href="#validPlacements%2CF" title="validPlacements[F: TsuField or WaterField](self: F): set[Placement]">validPlacements[F: TsuField or WaterField](self: F): set[Placement]</a></li>

</ul>

    </ul>
  </details>
</li>
<li>
  <a class="reference reference-toplevel" href="#19" id="69">Exports</a>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
    
    <div id="tocRoot"></div>
    
    <p class="module-desc">This module implements fields. </p>
    <div class="section" id="6">
  <h1><a class="toc-backref" href="#6">Imports</a></h1>
  <dl class="item">
    <a class="reference external" href="cell.html">cell</a>, <a class="reference external" href="common.html">common</a>, <a class="reference external" href="fqdn.html">fqdn</a>, <a class="reference external" href="moveresult.html">moveresult</a>, <a class="reference external" href="pair.html">pair</a>, <a class="reference external" href="placement.html">placement</a>, <a class="reference external" href="popresult.html">popresult</a>, <a class="reference external" href="rule.html">rule</a>, <a class="reference external" href="step.html">step</a>, <a class="reference external" href="../private/arrayops2.html">../private/arrayops2</a>, <a class="reference external" href="../private/assign3.html">../private/assign3</a>, <a class="reference external" href="../private/bitops3.html">../private/bitops3</a>, <a class="reference external" href="../private/core.html">../private/core</a>, <a class="reference external" href="../private/macros2.html">../private/macros2</a>, <a class="reference external" href="../private/math2.html">../private/math2</a>, <a class="reference external" href="../private/results2.html">../private/results2</a>, <a class="reference external" href="../private/staticfor2.html">../private/staticfor2</a>, <a class="reference external" href="../private/strutils2.html">../private/strutils2</a>, <a class="reference external" href="../private/tables2.html">../private/tables2</a>
  </dl>
</div>
<div class="section" id="7">
  <h1><a class="toc-backref" href="#7">Types</a></h1>
  <dl class="item">
    <div id="TsuField">
  <dt><pre><a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Other">=</span> <span class="Keyword">distinct</span> <span class="Identifier">array</span><span class="Other">[</span><span class="DecNumber">3</span><span class="Other">,</span> <a href="../private/core/binfield.html#BinField"><span class="Identifier">BinField</span></a><span class="Other">]</span></pre></dt>
  <dd>
    
    Puyo Puyo field for Tsu rule.
    
  </dd>
</div>
<div id="WaterField">
  <dt><pre><a href="field.html#WaterField"><span class="Identifier">WaterField</span></a> <span class="Other">=</span> <span class="Keyword">distinct</span> <span class="Identifier">array</span><span class="Other">[</span><span class="DecNumber">3</span><span class="Other">,</span> <a href="../private/core/binfield.html#BinField"><span class="Identifier">BinField</span></a><span class="Other">]</span></pre></dt>
  <dd>
    
    Puyo Puyo field for Water rule.
    
  </dd>
</div>

  </dl>
</div>
<div class="section" id="12">
  <h1><a class="toc-backref" href="#12">Procs</a></h1>
  <dl class="item">
    <div id="$-procs-all">
  <div id="$,TsuField">
  <dt><pre><span class="Keyword">func</span> <a href="#%24%2CTsuField"><span class="Identifier">`$`</span></a><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="$,WaterField">
  <dt><pre><span class="Keyword">func</span> <a href="#%24%2CWaterField"><span class="Identifier">`$`</span></a><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="==-procs-all">
  <div id="==,TsuField,TsuField">
  <dt><pre><span class="Keyword">func</span> <a href="#%3D%3D%2CTsuField%2CTsuField"><span class="Identifier">`==`</span></a><span class="Other">(</span><span class="Identifier">f1</span><span class="Other">,</span> <span class="Identifier">f2</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">borrow</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="==,WaterField,WaterField">
  <dt><pre><span class="Keyword">func</span> <a href="#%3D%3D%2CWaterField%2CWaterField"><span class="Identifier">`==`</span></a><span class="Other">(</span><span class="Identifier">f1</span><span class="Other">,</span> <span class="Identifier">f2</span><span class="Other">:</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">borrow</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="[]-procs-all">
  <div id="[],F,Row,Col">
  <dt><pre><span class="Keyword">func</span> <a href="#%5B%5D%2CF%2CRow%2CCol"><span class="Identifier">`[]`</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">;</span> <span class="Identifier">row</span><span class="Other">:</span> <a href="common.html#Row"><span class="Identifier">Row</span></a><span class="Other">;</span> <span class="Identifier">col</span><span class="Other">:</span> <a href="common.html#Col"><span class="Identifier">Col</span></a><span class="Other">)</span><span class="Other">:</span> <a href="cell.html#Cell"><span class="Identifier">Cell</span></a> {.
    <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="[]=-procs-all">
  <div id="[]=,F,Row,Col,Cell">
  <dt><pre><span class="Keyword">func</span> <a href="#%5B%5D%3D%2CF%2CRow%2CCol%2CCell"><span class="Identifier">`[]=`</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">;</span> <span class="Identifier">row</span><span class="Other">:</span> <a href="common.html#Row"><span class="Identifier">Row</span></a><span class="Other">;</span> <span class="Identifier">col</span><span class="Other">:</span> <a href="common.html#Col"><span class="Identifier">Col</span></a><span class="Other">;</span>
                                      <span class="Identifier">cell</span><span class="Other">:</span> <a href="cell.html#Cell"><span class="Identifier">Cell</span></a><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="apply-procs-all">
  <div id="apply,F,Step">
  <dt><pre><span class="Keyword">func</span> <a href="#apply%2CF%2CStep"><span class="Identifier">apply</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">;</span> <span class="Identifier">step</span><span class="Other">:</span> <a href="step.html#Step"><span class="Identifier">Step</span></a><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span>
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Applies the step. This function requires that the field is settled.
    
  </dd>
</div>

</div>
<div id="canPop-procs-all">
  <div id="canPop,F">
  <dt><pre><span class="Keyword">func</span> <a href="#canPop%2CF"><span class="Identifier">canPop</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns <tt class="docutils literal"><span class="pre"><span class="Identifier">true</span></span></tt> if any puyos can pop. Note that this function is only slightly lighter than <tt class="docutils literal"><span class="pre"><span class="Identifier">pop</span></span></tt>.
    
  </dd>
</div>

</div>
<div id="cellCnt-procs-all">
  <div id="cellCnt,F,Cell">
  <dt><pre><span class="Keyword">func</span> <a href="#cellCnt%2CF%2CCell"><span class="Identifier">cellCnt</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">;</span> <span class="Identifier">cell</span><span class="Other">:</span> <a href="cell.html#Cell"><span class="Identifier">Cell</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span class="Identifier">inline</span><span class="Other">,</span>
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the number of <tt class="docutils literal"><span class="pre"><span class="Identifier">cell</span></span></tt> in the field.
    
  </dd>
</div>

</div>
<div id="colorPuyoCnt-procs-all">
  <div id="colorPuyoCnt,F">
  <dt><pre><span class="Keyword">func</span> <a href="#colorPuyoCnt%2CF"><span class="Identifier">colorPuyoCnt</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the number of color puyos in the field.
    
  </dd>
</div>

</div>
<div id="conn2-procs-all">
  <div id="conn2,F">
  <dt><pre><span class="Keyword">func</span> <a href="#conn2%2CF"><span class="Identifier">conn2</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">F</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the field where exactly two color puyos are connected.
    
  </dd>
</div>

</div>
<div id="conn2Horizontal-procs-all">
  <div id="conn2Horizontal,F">
  <dt><pre><span class="Keyword">func</span> <a href="#conn2Horizontal%2CF"><span class="Identifier">conn2Horizontal</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">F</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the field where exactly two color puyos are connected horizontally.
    
  </dd>
</div>

</div>
<div id="conn2Vertical-procs-all">
  <div id="conn2Vertical,F">
  <dt><pre><span class="Keyword">func</span> <a href="#conn2Vertical%2CF"><span class="Identifier">conn2Vertical</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">F</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the field where exactly two color puyos are connected vertically.
    
  </dd>
</div>

</div>
<div id="conn3-procs-all">
  <div id="conn3,F">
  <dt><pre><span class="Keyword">func</span> <a href="#conn3%2CF"><span class="Identifier">conn3</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">F</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the field where exactly three color puyos are connected.
    
  </dd>
</div>

</div>
<div id="conn3Horizontal-procs-all">
  <div id="conn3Horizontal,F">
  <dt><pre><span class="Keyword">func</span> <a href="#conn3Horizontal%2CF"><span class="Identifier">conn3Horizontal</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">F</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the field where exactly three color puyos are connected horizontally.
    
  </dd>
</div>

</div>
<div id="conn3LShape-procs-all">
  <div id="conn3LShape,F">
  <dt><pre><span class="Keyword">func</span> <a href="#conn3LShape%2CF"><span class="Identifier">conn3LShape</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">F</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the field where exactly three color puyos are connected by L-shape.
    
  </dd>
</div>

</div>
<div id="conn3Vertical-procs-all">
  <div id="conn3Vertical,F">
  <dt><pre><span class="Keyword">func</span> <a href="#conn3Vertical%2CF"><span class="Identifier">conn3Vertical</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">F</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the field where exactly three color puyos are connected vertically.
    
  </dd>
</div>

</div>
<div id="crossRotate-procs-all">
  <div id="crossRotate,F">
  <dt><pre><span class="Keyword">func</span> <a href="#crossRotate%2CF"><span class="Identifier">crossRotate</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Rotates the binary field by 180 degrees in groups of three rows. Ghost cells are cleared before the rotation.
    
  </dd>
</div>

</div>
<div id="delete-procs-all">
  <div id="delete,F,Row,Col">
  <dt><pre><span class="Keyword">func</span> <a href="#delete%2CF%2CRow%2CCol"><span class="Identifier">delete</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">;</span> <span class="Identifier">row</span><span class="Other">:</span> <a href="common.html#Row"><span class="Identifier">Row</span></a><span class="Other">;</span> <span class="Identifier">col</span><span class="Other">:</span> <a href="common.html#Col"><span class="Identifier">Col</span></a><span class="Other">)</span> {.
    <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Deletes the cell and shifts the field. If (row, col) is in the air, shifts the field downward above where deleted. If it is in the water, shifts the field upward below where deleted.
    
  </dd>
</div>

</div>
<div id="dropGarbages-procs-all">
  <div id="dropGarbages,F,array[Col,int],bool">
  <dt><pre><span class="Keyword">func</span> <a href="#dropGarbages%2CF%2Carray%5BCol%2Cint%5D%2Cbool"><span class="Identifier">dropGarbages</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">;</span> <span class="Identifier">cnts</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="Identifier">Col</span><span class="Other">,</span> <span class="Identifier">int</span><span class="Other">]</span><span class="Other">;</span>
    <span class="Identifier">dropHard</span><span class="Other">:</span> <span class="Identifier">bool</span><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Drops hard or garbage puyos. This function requires that the field is settled and the counts are non-negative.
    
  </dd>
</div>

</div>
<div id="flipHorizontal-procs-all">
  <div id="flipHorizontal,F">
  <dt><pre><span class="Keyword">func</span> <a href="#flipHorizontal%2CF"><span class="Identifier">flipHorizontal</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Flips the field horizontally.
    
  </dd>
</div>

</div>
<div id="flipVertical-procs-all">
  <div id="flipVertical,F">
  <dt><pre><span class="Keyword">func</span> <a href="#flipVertical%2CF"><span class="Identifier">flipVertical</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Flips the field vertically.
    
  </dd>
</div>

</div>
<div id="garbagesCnt-procs-all">
  <div id="garbagesCnt,F">
  <dt><pre><span class="Keyword">func</span> <a href="#garbagesCnt%2CF"><span class="Identifier">garbagesCnt</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the number of hard and garbage puyos in the field.
    
  </dd>
</div>

</div>
<div id="init-procs-all">
  <div id="init,typeF">
  <dt><pre><span class="Keyword">func</span> <a href="#init%2CtypeF"><span class="Identifier">init</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Keyword">type</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">F</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="insert-procs-all">
  <div id="insert,F,Row,Col,Cell">
  <dt><pre><span class="Keyword">func</span> <a href="#insert%2CF%2CRow%2CCol%2CCell"><span class="Identifier">insert</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">;</span> <span class="Identifier">row</span><span class="Other">:</span> <a href="common.html#Row"><span class="Identifier">Row</span></a><span class="Other">;</span> <span class="Identifier">col</span><span class="Other">:</span> <a href="common.html#Col"><span class="Identifier">Col</span></a><span class="Other">;</span>
                                       <span class="Identifier">cell</span><span class="Other">:</span> <a href="cell.html#Cell"><span class="Identifier">Cell</span></a><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Inserts the cell and shifts the field. If (row, col) is in the air, shifts the field upward above where inserted. If it is in the water, shifts the field downward below where inserted.
    
  </dd>
</div>

</div>
<div id="invalidPlacements-procs-all">
  <div id="invalidPlacements,F">
  <dt><pre><span class="Keyword">func</span> <a href="#invalidPlacements%2CF"><span class="Identifier">invalidPlacements</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><a href="placement.html#Placement"><span class="Identifier">Placement</span></a><span class="Other">]</span> {.
    <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the invalid placements.
    
  </dd>
</div>

</div>
<div id="isDead-procs-all">
  <div id="isDead,F">
  <dt><pre><span class="Keyword">func</span> <a href="#isDead%2CF"><span class="Identifier">isDead</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns <tt class="docutils literal"><span class="pre"><span class="Identifier">true</span></span></tt> if the field is in a defeated state.
    
  </dd>
</div>

</div>
<div id="isSettled-procs-all">
  <div id="isSettled,F">
  <dt><pre><span class="Keyword">func</span> <a href="#isSettled%2CF"><span class="Identifier">isSettled</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns <tt class="docutils literal"><span class="pre"><span class="Identifier">true</span></span></tt> if the field is settled. Note that this function is only slightly lighter than <tt class="docutils literal"><span class="pre"><span class="Identifier">settle</span></span></tt>
    
  </dd>
</div>

</div>
<div id="move-procs-all">
  <div id="move,F,array[Col,int],bool,staticbool">
  <dt><pre><span class="Keyword">func</span> <a href="#move%2CF%2Carray%5BCol%2Cint%5D%2Cbool%2Cstaticbool"><span class="Identifier">move</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">;</span> <span class="Identifier">cnts</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="Identifier">Col</span><span class="Other">,</span> <span class="Identifier">int</span><span class="Other">]</span><span class="Other">;</span>
                                     <span class="Identifier">dropHard</span><span class="Other">:</span> <span class="Identifier">bool</span><span class="Other">;</span>
                                     <span class="Identifier">calcConn</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <a href="moveresult.html#MoveResult"><span class="Identifier">MoveResult</span></a> {.
    <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Drops hard or garbage puyos, advances the field until chains end, and returns a moving result. This function requires that the field is settled and the counts are non-negative.
    
  </dd>
</div>
<div id="move,F,bool,staticbool">
  <dt><pre><span class="Keyword">func</span> <a href="#move%2CF%2Cbool%2Cstaticbool"><span class="Identifier">move</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">;</span> <span class="Identifier">cross</span><span class="Other">:</span> <span class="Identifier">bool</span><span class="Other">;</span>
                                     <span class="Identifier">calcConn</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <a href="moveresult.html#MoveResult"><span class="Identifier">MoveResult</span></a> {.
    <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Rotates the field, advances the field until chains end, and returns a moving result.
    
  </dd>
</div>
<div id="move,F,Pair,Placement,staticbool">
  <dt><pre><span class="Keyword">func</span> <a href="#move%2CF%2CPair%2CPlacement%2Cstaticbool"><span class="Identifier">move</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">;</span> <span class="Identifier">pair</span><span class="Other">:</span> <a href="pair.html#Pair"><span class="Identifier">Pair</span></a><span class="Other">;</span> <span class="Identifier">plcmt</span><span class="Other">:</span> <a href="placement.html#Placement"><span class="Identifier">Placement</span></a><span class="Other">;</span>
                                     <span class="Identifier">calcConn</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <a href="moveresult.html#MoveResult"><span class="Identifier">MoveResult</span></a> {.
    <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Places the pair, advances the field until chains end, and returns a moving result. This function requires that the field is settled.
    
  </dd>
</div>
<div id="move,F,Step">
  <dt><pre><span class="Keyword">func</span> <a href="#move%2CF%2CStep"><span class="Identifier">move</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">;</span> <span class="Identifier">step</span><span class="Other">:</span> <a href="step.html#Step"><span class="Identifier">Step</span></a><span class="Other">;</span> <span class="Identifier">calcConn</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <a href="moveresult.html#MoveResult"><span class="Identifier">MoveResult</span></a> {.
    <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Applies the step, advances the field until chains end, and returns a moving result. This function requires that the field is settled.
    
  </dd>
</div>

</div>
<div id="parseTsuField-procs-all">
  <div id="parseTsuField,string,SimulatorFqdn">
  <dt><pre><span class="Keyword">func</span> <a href="#parseTsuField%2Cstring%2CSimulatorFqdn"><span class="Identifier">parseTsuField</span></a><span class="Other">(</span><span class="Identifier">query</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">fqdn</span><span class="Other">:</span> <a href="fqdn.html#SimulatorFqdn"><span class="Identifier">SimulatorFqdn</span></a><span class="Other">)</span><span class="Other">:</span> <a href="../private/results2.html#Res"><span class="Identifier">Res</span></a><span class="Other">[</span><a href="field.html#TsuField"><span class="Identifier">TsuField</span></a><span class="Other">]</span> {.<span class="Identifier">inline</span><span class="Other">,</span>
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the Tsu field converted from the URI query.
    
  </dd>
</div>
<div id="parseTsuField,string">
  <dt><pre><span class="Keyword">func</span> <a href="#parseTsuField%2Cstring"><span class="Identifier">parseTsuField</span></a><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <a href="../private/results2.html#Res"><span class="Identifier">Res</span></a><span class="Other">[</span><a href="field.html#TsuField"><span class="Identifier">TsuField</span></a><span class="Other">]</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the Tsu field converted from the string representation.
    
  </dd>
</div>

</div>
<div id="parseWaterField-procs-all">
  <div id="parseWaterField,string,SimulatorFqdn">
  <dt><pre><span class="Keyword">func</span> <a href="#parseWaterField%2Cstring%2CSimulatorFqdn"><span class="Identifier">parseWaterField</span></a><span class="Other">(</span><span class="Identifier">query</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">fqdn</span><span class="Other">:</span> <a href="fqdn.html#SimulatorFqdn"><span class="Identifier">SimulatorFqdn</span></a><span class="Other">)</span><span class="Other">:</span> <a href="../private/results2.html#Res"><span class="Identifier">Res</span></a><span class="Other">[</span><a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span> {.
    <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the Water field converted from the URI query.
    
  </dd>
</div>
<div id="parseWaterField,string">
  <dt><pre><span class="Keyword">func</span> <a href="#parseWaterField%2Cstring"><span class="Identifier">parseWaterField</span></a><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <a href="../private/results2.html#Res"><span class="Identifier">Res</span></a><span class="Other">[</span><a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the Water field converted from the string representation.
    
  </dd>
</div>

</div>
<div id="place-procs-all">
  <div id="place,TsuField,Pair,Placement">
  <dt><pre><span class="Keyword">func</span> <a href="#place%2CTsuField%2CPair%2CPlacement"><span class="Identifier">place</span></a><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a><span class="Other">;</span> <span class="Identifier">pair</span><span class="Other">:</span> <a href="pair.html#Pair"><span class="Identifier">Pair</span></a><span class="Other">;</span> <span class="Identifier">plcmt</span><span class="Other">:</span> <a href="placement.html#Placement"><span class="Identifier">Placement</span></a><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span>
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Places the pair. This function requires that the field is settled.
    
  </dd>
</div>
<div id="place,WaterField,Pair,Placement">
  <dt><pre><span class="Keyword">func</span> <a href="#place%2CWaterField%2CPair%2CPlacement"><span class="Identifier">place</span></a><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">;</span> <span class="Identifier">pair</span><span class="Other">:</span> <a href="pair.html#Pair"><span class="Identifier">Pair</span></a><span class="Other">;</span> <span class="Identifier">plcmt</span><span class="Other">:</span> <a href="placement.html#Placement"><span class="Identifier">Placement</span></a><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span>
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Places the pair. This function requires that the field is settled.
    
  </dd>
</div>
<div id="place,F,Pair,OptPlacement">
  <dt><pre><span class="Keyword">func</span> <a href="#place%2CF%2CPair%2COptPlacement"><span class="Identifier">place</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">;</span> <span class="Identifier">pair</span><span class="Other">:</span> <a href="pair.html#Pair"><span class="Identifier">Pair</span></a><span class="Other">;</span>
                                      <span class="Identifier">optPlcmt</span><span class="Other">:</span> <a href="placement.html#OptPlacement"><span class="Identifier">OptPlacement</span></a><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span>
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Places the pair. This function requires that the field is settled.
    
  </dd>
</div>

</div>
<div id="pop-procs-all">
  <div id="pop,F">
  <dt><pre><span class="Keyword">func</span> <a href="#pop%2CF"><span class="Identifier">pop</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <a href="popresult.html#PopResult"><span class="Identifier">PopResult</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Removes puyos that should pop and returns the pop result.
    
  </dd>
</div>

</div>
<div id="puyoCnt-procs-all">
  <div id="puyoCnt,F">
  <dt><pre><span class="Keyword">func</span> <a href="#puyoCnt%2CF"><span class="Identifier">puyoCnt</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the number of puyos in the field.
    
  </dd>
</div>

</div>
<div id="rotate-procs-all">
  <div id="rotate,F">
  <dt><pre><span class="Keyword">func</span> <a href="#rotate%2CF"><span class="Identifier">rotate</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Rotates the binary field by 180 degrees. Ghost cells are cleared before the rotation.
    
  </dd>
</div>

</div>
<div id="rule-procs-all">
  <div id="rule,TsuField">
  <dt><pre><span class="Keyword">func</span> <a href="#rule%2CTsuField"><span class="Identifier">rule</span></a><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a><span class="Other">)</span><span class="Other">:</span> <a href="rule.html#Rule"><span class="Identifier">Rule</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the rule.
    
  </dd>
</div>
<div id="rule,WaterField">
  <dt><pre><span class="Keyword">func</span> <a href="#rule%2CWaterField"><span class="Identifier">rule</span></a><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">)</span><span class="Other">:</span> <a href="rule.html#Rule"><span class="Identifier">Rule</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the rule.
    
  </dd>
</div>

</div>
<div id="settle-procs-all">
  <div id="settle,F">
  <dt><pre><span class="Keyword">func</span> <a href="#settle%2CF"><span class="Identifier">settle</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Settles the field.
    
  </dd>
</div>

</div>
<div id="shiftDown-procs-all">
  <div id="shiftDown,F">
  <dt><pre><span class="Keyword">func</span> <a href="#shiftDown%2CF"><span class="Identifier">shiftDown</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Shifts the field downward.
    
  </dd>
</div>

</div>
<div id="shiftLeft-procs-all">
  <div id="shiftLeft,F">
  <dt><pre><span class="Keyword">func</span> <a href="#shiftLeft%2CF"><span class="Identifier">shiftLeft</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Shifts the field leftward.
    
  </dd>
</div>

</div>
<div id="shiftRight-procs-all">
  <div id="shiftRight,F">
  <dt><pre><span class="Keyword">func</span> <a href="#shiftRight%2CF"><span class="Identifier">shiftRight</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Shifts the field rightward.
    
  </dd>
</div>

</div>
<div id="shiftUp-procs-all">
  <div id="shiftUp,F">
  <dt><pre><span class="Keyword">func</span> <a href="#shiftUp%2CF"><span class="Identifier">shiftUp</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">F</span><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Shifts the field upward.
    
  </dd>
</div>

</div>
<div id="toArr-procs-all">
  <div id="toArr,F">
  <dt><pre><span class="Keyword">func</span> <a href="#toArr%2CF"><span class="Identifier">toArr</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="Identifier">Row</span><span class="Other">,</span> <span class="Identifier">array</span><span class="Other">[</span><span class="Identifier">Col</span><span class="Other">,</span> <a href="cell.html#Cell"><span class="Identifier">Cell</span></a><span class="Other">]</span><span class="Other">]</span> {.
    <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the array converted from the field.
    
  </dd>
</div>

</div>
<div id="toTsuField-procs-all">
  <div id="toTsuField,array[Row,array[Col,Cell]]">
  <dt><pre><span class="Keyword">func</span> <a href="#toTsuField%2Carray%5BRow%2Carray%5BCol%2CCell%5D%5D"><span class="Identifier">toTsuField</span></a><span class="Other">(</span><span class="Identifier">arr</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="Identifier">Row</span><span class="Other">,</span> <span class="Identifier">array</span><span class="Other">[</span><span class="Identifier">Col</span><span class="Other">,</span> <a href="cell.html#Cell"><span class="Identifier">Cell</span></a><span class="Other">]</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span>
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the Tsu field converted from the array.
    
  </dd>
</div>
<div id="toTsuField,TsuField">
  <dt><pre><span class="Keyword">func</span> <a href="#toTsuField%2CTsuField"><span class="Identifier">toTsuField</span></a><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a><span class="Other">)</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the copy of the field.
    
  </dd>
</div>
<div id="toTsuField,WaterField">
  <dt><pre><span class="Keyword">func</span> <a href="#toTsuField%2CWaterField"><span class="Identifier">toTsuField</span></a><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">)</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the Tsu field converted from the field.
    
  </dd>
</div>

</div>
<div id="toUriQuery-procs-all">
  <div id="toUriQuery,F">
  <dt><pre><span class="Keyword">func</span> <a href="#toUriQuery%2CF"><span class="Identifier">toUriQuery</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">;</span> <span class="Identifier">fqdn</span> <span class="Other">=</span> <span class="Identifier">Pon2</span><span class="Other">)</span><span class="Other">:</span> <a href="../private/results2.html#Res"><span class="Identifier">Res</span></a><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> {.
    <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the URI query converted from the field.
    
  </dd>
</div>

</div>
<div id="toWaterField-procs-all">
  <div id="toWaterField,array[Row,array[Col,Cell]]">
  <dt><pre><span class="Keyword">func</span> <a href="#toWaterField%2Carray%5BRow%2Carray%5BCol%2CCell%5D%5D"><span class="Identifier">toWaterField</span></a><span class="Other">(</span><span class="Identifier">arr</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="Identifier">Row</span><span class="Other">,</span> <span class="Identifier">array</span><span class="Other">[</span><span class="Identifier">Col</span><span class="Other">,</span> <a href="cell.html#Cell"><span class="Identifier">Cell</span></a><span class="Other">]</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span>
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the Water field converted from the array.
    
  </dd>
</div>
<div id="toWaterField,TsuField">
  <dt><pre><span class="Keyword">func</span> <a href="#toWaterField%2CTsuField"><span class="Identifier">toWaterField</span></a><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a><span class="Other">)</span><span class="Other">:</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the Water field converted from the field.
    
  </dd>
</div>
<div id="toWaterField,WaterField">
  <dt><pre><span class="Keyword">func</span> <a href="#toWaterField%2CWaterField"><span class="Identifier">toWaterField</span></a><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">)</span><span class="Other">:</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the copy of the field.
    
  </dd>
</div>

</div>
<div id="validDblPlacements-procs-all">
  <div id="validDblPlacements,F">
  <dt><pre><span class="Keyword">func</span> <a href="#validDblPlacements%2CF"><span class="Identifier">validDblPlacements</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><a href="placement.html#Placement"><span class="Identifier">Placement</span></a><span class="Other">]</span> {.
    <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the valid placements for double pairs.
    
  </dd>
</div>

</div>
<div id="validPlacements-procs-all">
  <div id="validPlacements,F">
  <dt><pre><span class="Keyword">func</span> <a href="#validPlacements%2CF"><span class="Identifier">validPlacements</span></a><span class="Other">[</span><span class="Identifier">F</span><span class="Other">:</span> <a href="field.html#TsuField"><span class="Identifier">TsuField</span></a> <span class="Keyword">or</span> <a href="field.html#WaterField"><span class="Identifier">WaterField</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">self</span><span class="Other">:</span> <span class="Identifier">F</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><a href="placement.html#Placement"><span class="Identifier">Placement</span></a><span class="Other">]</span> {.
    <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the valid placements.
    
  </dd>
</div>

</div>

  </dl>
</div>
<div class="section" id="19">
  <h1><a class="toc-backref" href="#19">Exports</a></h1>
  <dl class="item">
    <a href="../private/results2.html#Res"><span class="Identifier">Res</span></a>, <a href="../private/results2.html#context,Res[T],string"><span class="Identifier">context</span></a>
  </dl>
</div>

  </div>
</div>

      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br>
        <small style="color: var(--hint);">Made with Nim. Generated: 2025-11-11 01:41:13 UTC</small>
      </div>
    </div>
  </div>
  
</body>
</html>
